{
  "ConnectionStrings": {
    "DefaultConnection": "Data Source=DESKTOP-141UAGI;Initial Catalog=KafeApiDb;Integrated Security=True;Connect Timeout=30;Encrypt=True;Trust Server Certificate=True;Application Intent=ReadWrite;Multi Subnet Failover=False"
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "Jwt": {
    "Key": "196d3d-f192-4f56-9ac3-855e2d8ce00b",
    "Issuer": "KafeApi",
    "Audience": "KafeApiUsers"
  },

  "Serilog": {
    // Minimum log seviyesi: 'Information' ve üzeri seviyedekiler loglanacak.
    "MinimumLevel": {
      "Default": "Information", // Varsayılan log seviyesi: Information (Bilgi)
      "Override": {
        // Microsoft ve System namespace'lerinden gelen loglar için özel seviye tanımlaması
        "Microsoft": "Warning", // Microsoft kaynaklı loglar sadece Warning ve üzeri seviyelerde loglanır
        "System": "Warning" // System kaynaklı loglar da sadece Warning ve üzeri seviyelerde loglanır
      }
    },
    // Logların nereye yazılacağını belirten ayarlar
    "WriteTo": [
      {
        "Name": "Console" // Loglar konsola (terminal, debug output) yazılır
      },
      {
        "Name": "File", // Loglar ayrıca bir dosyaya da yazılır
        "Args": {
          "path": "Logs/log-.txt", // Log dosyasının konumu ve adı (tarih bazlı ek uzantı olacak şekilde)
          "rollingInterval": "Day", // Her gün için ayrı bir log dosyası oluşturulur
          "outputTemplate": "[{Timestamp:HH:mm:ss} {level:u3} {Message:lj}{NewLine}{Exception}]"
          // Log çıktısının formatı: Saat, log seviyesi (kısa), mesaj ve varsa exception detayları
        }
      },
      {
        "Name": "MSSqlServer",
        "Args": {
          // appsettings.json içinde tanımlı "DefaultConnection" adındaki connection string kullanılacak
          "connectionString": "DefaultConnection",

          // Log kayıtlarının yazılacağı SQL Server tablosunun adı
          "tableName": "Logs",

          // Eğer Logs tablosu veritabanında yoksa, Serilog bunu otomatik oluşturacak
          "autoCreateSqlTable": true,

          // Bu sink için minimum log seviyesi Information (bilgilendirme) olarak belirlendi
          "restrictedToMinimumLevel": "Information",

          // Kolon yapılandırmaları: ek sütunlar belirleniyor
          "columnOptionsSection": {
            // LogEvent sütunu eklenir; log verisinin tamamı JSON formatında saklanır
            "addStandardColumns": [ "LogEvent" ]
          }
        }
      }

    ],
    // Loglara eklenecek ek bilgiler
    "Enrich": [
      "FromLogContext", // LogContext'ten gelen bilgileri zenginleştir (örneğin kullanıcı ID, vs.)
      "WithMachineName", // Loglara çalıştığı makinenin adı eklenir
      "WithThreadId" // Loglara işlemin çalıştığı thread ID’si eklenir
    ],
    // Loglara sabit bir özellik (etiket) eklenir
    "Properties": {
      "Application": "KafeApi" // Uygulama adı olarak "KafeApi" bilgisi loglara eklenir
    }
  },

  "AllowedHosts": "*"
}